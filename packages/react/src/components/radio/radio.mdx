import { Meta, Canvas, Controls, Primary, ArgTypes } from '@storybook/addon-docs/blocks';
import { CssVariables } from '@doc-components';
import css from '@digdir/designsystemet-css/input.css?inline';
import * as RadioStories from './radio.stories';

<Meta of={RadioStories} />

# Radio

`Radio` er et alternativ brukeren kan velge. Bruk flere `Radio` for å vise en liste med alternativer. Brukerne kan bytte mellom alternativene, men kan kun velge ett.

<Primary />
<Controls />

## Bruk
Bruk [`Fieldset`](/docs/komponenter-fieldset--docs) for å visuelt gruppere flere alternativer.
Se [`useRadioGroup`](/docs/utilities-useradiogroup--docs)-hooken for å gruppere flere `Radio`-komponenter i en gruppe, og for å håndtere verdier og hendelser.

```tsx
import { Radio } from '@digdir/designsystemet-react';

<Fieldset>
  <Fieldset.Legend>Er du over 18 år?</Fieldset.Legend>
  <Radio value="ja" label="Ja" name="alternativ" />
  <Radio value="nei" label="Nei" name="alternativ" />
</Fieldset>
```

## Kodeeksempler

### Enkel radio

`Radio` skal alltid ha en `label`. Når du bruker `label` fra en annen plass, husk å bruke `aria-label` eller `aria-labelledby`.

<Canvas of={RadioStories.AriaLabel} />

### Gruppering av flere alternativ

Bruk `Fieldset` rundt, og `name` på `Radio`, for å gruppere.

<Canvas of={RadioStories.Group} />

### Feilmelding

Bruk `error` på `Fieldset` for å vise feilmelding.

Her må vi bruke `Fieldset`, fordi den aktiverer riktig stil og sørger for at innholdet har de riktige attributtene for tilgjengelighet.

<Canvas of={RadioStories.WithError} />

### Readonly

Felter med `readonly`-attributtet er med i tabrekkefølgen. Brukerne kan kopiere innholdet men ikke redigere det. Informasjon blir med når skjemaet sendes inn.

`readonly`-felter kan være forvirrende for noen brukere. Ikke alle vil skjønne hvorfor de ikke får til å endre innholdet i feltet. Vi anbefaler derfor å unngå `readonly` så langt det lar seg gjøre.

<Canvas of={RadioStories.ReadOnly} />

### Inline

`Radio` skal som hovedregel *ikke* plasseres på samme linje. Men, hvis du har kun to alternativer med korte tekster som "Ja" og "Nei", kan du vurdere om de bør plasseres ved siden av hverandre. 

<Canvas of={RadioStories.Inline} />

## Retningslinjer

Vi bruker `Radio` når vi skal gi brukerne mulighet til å velge kun ett alternativ. Skal de kunne velge flere, bruker du [`Checkbox`](/docs/komponenter-checkbox--docs).

Vi bør ikke ha mer enn syv alternativer i en gruppe. Trenger vi å gi brukerne flere valg, bør vi heller bruke [`Suggestion`](/docs/komponenter-suggestion--docs) eller [`Select`](/docs/komponenter-select--docs). Hvis vi bare skal gi brukerne ett valg, kan en [`Switch`](/docs/komponenter-switch--docs) eller [`Checkbox`](/docs/komponenter-checkbox--docs) passe bedre.

### Sortering

Alternativene skal som hovedregel sorteres alfabetisk. Velger du å presentere de mest aktuelle alternativene først kan det bli vanskelig å finne ønsket alternativ. Du kan også risikere å påvirke svaret, noe som er uheldig.

### Plassering

`Radio` skal som hovedregel plasseres vertikalt, av hensyn til lesbarhet. Det er enklere for brukere å skanne listen når alternativene ligger under hverandre. For brukere som trenger å forstørre (zoome inn) nettsiden for å se godt nok, er en horisontal liste ekstra vanskelig. Hvis vi bare har to valg med korte ledetekster, kan vi vise dem ved siden av hverandre. 

I en [likert-skala (snl.no)](https://snl.no/Likert-skala) vil det også være naturlig å vise dem ved siden av hverandre. I en horisontal visning er det viktig at det kommer tydelig fram hvilken tekst som hører til hvilken boks.

### Unngå forhåndsvalgt alternativ

Tenk nøye over om du virkelig trenger å ha et forhåndsvalgt alternativ. Det kan ha motsatt effekt av det du ønsker, for eksempel at brukeren føler seg manipulert til å ta ett bestemt valg, eller ikke klarer å ta et bevisst valg selv.

## Tekst

En gruppe med flere alternativer bør alltid ha en `legend` og eventuelt en `description` dersom hjelpetekst er nødvendig.

Radioknapper skal alltid ha en `label`. Den skal være så kort som mulig og hvert alternativ bør være formulert på samme måte. Radio-komponenten kan også ha `description`. Da kommer den rett under `label`.

<img
  src='/img/component-guidelines/radio/radio-anatomy.png'
  alt='Illustrasjonen viser hva som er legend, description og label i en gruppe med alternativknapper.'
/>

## Tilgjengelighet

Pass på at det er nok luft rundt hver alternativknapp, slik at den er lett å velge også på berøringsskjermer.

Unngå å plassere alternativknapper ved siden av hverandre. Det gjør det vanskelig å lese. Det skaper også problemer for brukere som må forstørre (zoome) en nettside eller app for å se godt nok.

### Deaktiverte tilstander
Unngå deaktiverte tilstander om du kan. De har lav fargekontrast som er problematisk for noen brukere. `disabled` kan ikke møte kontrastkravene, for da kan brukeren tro at elementet er aktivt, prøve å trykke på det, og ikke skjønne hvorfor det ikke går. Nav har en god forklaring på [hvorfor deaktiverte tilstander er problematisk](https://aksel.nav.no/god-praksis/artikler/deaktiverte-tilstander) og hvilke alternativer som finnes.

### Tastaturnavigasjon
Merk at vi bruker piltastene til å velge alternativer i `Radio`-komponenten, ikke Tab-tasten.

- <kbd data-icon>↑</kbd> eller <kbd data-icon>←</kbd> går til forrige valg
- <kbd data-icon>↓</kbd> eller <kbd data-icon>→</kbd> går til neste valg
- <kbd>Space</kbd> går til det første alternativet i en gruppe med
  radioknapper, når gruppa ikke har et forhåndsvalgt alternativ.
- <kbd>Tab</kbd> går til hele gruppa med alternativer.

## CSS Variabler

<CssVariables css={css} />

