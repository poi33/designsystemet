import { Meta, Canvas, Controls, Primary } from '@storybook/addon-docs/blocks';
import * as SelectStories from './select.stories';

<Meta of={SelectStories} />

# Select
`Select` er en nedtrekksliste som lar brukeren velge ett eller flere alternativer fra et statisk utvalg. Komponenten er bygget på HTML-elementet , som bruker nettleserens innebygde standard. Dette sikrer forutsigbarhet og god tilgjengelighet, men begrenser hvordan komponenten kan tilpasses. For eksempel kan ikke innholdet styles utover det nettleseren tillater.

## Props

<Primary />
<Controls />

## Bruk

```tsx
import { Select, Field } from '@digdir/designsystemet-react';

<Field>
  <Label>Ta et valg</Label>
  <Select>
    <Select.Option value='1'>Alternativ 1</Select.Option>
    <Select.Option value='2'>Alternativ 2</Select.Option>
    <Select.Option value='3'>Alternativ 3</Select.Option>
  </Select>
</Field>
```

## Eksempler

### Med feil
Når feltet er påkrevd og brukeren forsøker å gå videre uten å ha gjort et valg, vises en feilmelding under `select`.

<Canvas of={SelectStories.WithError} />

### Med gruppering
Gruppering brukes for å organisere alternativer i kategorier, noe som gjør lange lister mer oversiktlige og enklere å navigere.

<Canvas of={SelectStories.WithOptgroup} />

### ReadOnly
Bruk `readOnly` når du vil vise en forhåndsvalgt verdi i en Select-komponent, men ikke tillate at brukeren endrer valget. Dette kan være aktuelt når informasjonen er bestemt av systemet eller et tidligere steg i en prosess, og ikke skal kunne redigeres.

<Canvas of={SelectStories.ReadOnly} />

## Retningslinjer

Bruk `select` når det er 7 eller flere alternativer. For færre alternativer kan alternativknapper (`radio`) være enklere for brukerne. `Select` er spesielt brukervennlig på mobil og gir god tilgjengelighet, da det følger operativsystemets standarder. Det fungerer godt når brukeren skal velge ett alternativ fra en liste. Hvis brukeren trenger å velge flere alternativer eller filtrere listen, bør du vurdere å bruke `Suggestion`.

**Passer til**
* å velge ett alternativ

**Passer ikke til**
* å navigere mellom sider eller seksjoner i en applikasjon
* å velge flere alternativer. Selv om HTML select støtter dette via `Multiple`-attributtet, er det lite brukervennlig, spesielt på mobil. Vi anbefaler `Checkbox` eller `Suggestion` for en mer oversiktlig og tilgjengelig løsning

**Merk**: [Gov.uk](https://design-system.service.gov.uk/components/select) anbefaler å unngå `select` i offentlige digitale tjenester. Deres brukertester viser at brukere ofte synes komponenten er vanskelig å bruke riktig. Det kan være bedre å stille flere spørsmål for å redusere antallet alternativer å velge mellom. Hvis du stiller de riktige spørsmålene først, kan alternativknapper (`radio`) være et bedre valg.

## Tekst
`Select`-komponenten skal alltid ha en ledetekst. Vi plasserer ledetekst og beskrivelse over feltet for å sikre god synlighet på små skjermer og unngå problemer ved feilmeldinger. Hold ledeteksten kort, helst på én linje.
Hvis `select` er inne i en tabell og får ledeteksten fra tabelloverskriften, kan vi skjule ledeteksten. Pass likevel på at ledeteksten gir mening, siden den fortsatt skal leses opp av skjermlesere.

## Tilgjengelighet
Det er en kjent feil at `select` ikke fungerer med VoiceOver i Chrome på Mac.

### Ikke bruk deaktivert tilstand
Ikke bruk deaktivert (`disabled`) tilstand. Tenk heller over om du trenger å vise feltet i det hele tatt, eller om du heller kan skrive informasjonen ut i ren tekst eller bruke `readOnly`.

### Tastaturnavigasjon
- <kbd>Space</kbd> åpner listen (velger også et alternativ på Mac)
- <kbd>Enter</kbd> velger alternativ i listen (åpner også listen på Windows)
- <kbd data-icon>↓</kbd> markerer neste alternativ i listen
- <kbd data-icon>↑</kbd> markerer forrige alternativ i listen
- <kbd>Home</kbd> markerer det første alternativet i listen
- <kbd>End</kbd> markerer det siste alternativet i listen
- Andre bokstaver/tegn hopper til det første alternativet som starter på den bokstaven eller det tegnet.



