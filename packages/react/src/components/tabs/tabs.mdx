import { Meta, Canvas, Controls, Primary, ArgTypes } from '@storybook/addon-docs/blocks';
import { CssVariables } from '@doc-components';
import css from '@digdir/designsystemet-css/tabs.css?inline';
import { Tabs } from './tabs';
import { TabsTab } from './tabs-tab';
import { TabsPanel } from './tabs-panel';
import * as TabsStories from './tabs.stories';

<Meta of={TabsStories} />

# Tabs

`Tabs` lar brukerne navigere mellom relaterte deler av innholdet, der én del vises om gangen. Dette er en effektiv måte å organisere og presentere relatert innhold på samme side.

<Primary />
<Controls />

## Bruk

```tsx
import { Tabs } from '@digdir/designsystemet-react';

<Tabs defaultValue='value1'>
  <Tabs.List>
    <Tabs.Tab value='value1'>Tab 1</Tabs.Tab>
    <Tabs.Tab value='value2'>Tab 2</Tabs.Tab>
    <Tabs.Tab value='value3'>Tab 3</Tabs.Tab>
  </Tabs.List>
  <Tabs.Panel value='value1'>content 1</Tabs.Panel>
  <Tabs.Panel value='value2'>content 2</Tabs.Panel>
  <Tabs.Panel value='value3'>content 3</Tabs.Panel>
</Tabs>;
```
### HTML
Dersom du ikke bruker React, kan du bruke [u-tabs (u-elements.github.io)](https://u-elements.github.io/u-elements/elements/u-tabs).
Legg på klassenavnet `ds-tabs`.

## Eksempler

### Kun ikoner
`Tabs` kan vises med bare ikoner for et mer kompakt utseende. Sørg for at ikonene er intuitive og har beskrivende titler for skjermlesere.

<Canvas of={TabsStories.IconsOnly} />

### Med ikoner og tekst
Kombinasjonen av ikoner og tekst gir både visuell og tekstlig beskrivelse av innholdet. Ikonene bør være dekorative og markeres med `aria-hidden`.

<Canvas of={TabsStories.IconsWithText} />

## Kontrollert
Bruk kontrollert modus når du trenger å styre tab-valget programmatisk eller integrere med annen tilstand i applikasjonen.

<Canvas of={TabsStories.Controlled} />

### Props

#### `Tabs`

<ArgTypes of={Tabs} />

#### `Tabs.Tab`

<ArgTypes of={TabsTab} />

#### `Tabs.Panel`

<ArgTypes of={TabsPanel} />

## Retningslinjer

`Tabs` skal brukes til å organisere relatert innhold i separate seksjoner.

**Passer til å** 
* strukturere innhold uten å laste en ny side
* dele opp innhold i tydelig merkede seksjoner
* forenkle navigasjon når brukeren ikke trenger å se alt samtidig

**Passer ikke til å**
* gi en umiddelbar oversikt over innhold, da `Tabs` skjuler informasjon
* presentere innhold som må sammenlignes på tvers av seksjoner
* veilede brukeren gjennom en steg-for-steg-prosess der rekkefølgen er viktig
* håndtere store mengder innhold som kan gjøre siden treg å laste
* erstatte hovednavigasjon eller brukes til filtrering og sortering
* være en løsning når innholdet like gjerne kan vises på én side eller fordeles på flere sider

### Alternativer til Tabs
Før du velger `Tabs`, vurder om det er bedre å:
* Forenkle og redusere mengden innhold
* Fordele innholdet på flere sider
* Beholde alt på én side, med tydelige overskrifter
* Bruke en innholdsfortegnelse for enklere navigasjon

### Beste praksis
* **Begrens antall `Tabs`** - for mange skaper dårlig oversikt, særlig på små skjermer
* **Bruk tydelig navn på `Tabs`** - `Tabs` skjuler innhold, så `Tabs`en må klart indikere hva brukeren får se
* **Plasser viktigst innhold først** - organiser `Tabs` etter brukerens behov
* **Hold `Tabs` på én linje** - Lange `Tabs` eller for mange `Tabs` kan gjøre navigasjonen vanskelig
* **Unngå deaktiverte `Tabs`** - Fjern deaktiverte `Tabs` eller forklar hvorfor de er tomme

## Tekst
`Tabs` bør være korte og beskrivende, slik at brukeren lett forstår hva de vil se når de klikker. Hvis det er vanskelig å lage presise `Tabs`, kan det tyde på at innholdet ikke er godt strukturert.

Hvis det er behov for å gi en overordnet kontekst, kan en felles tittel plasseres over `Tabs`-komponenten. Dette kan fungere som en "catchall"-beskrivelse som gir brukeren rask oversikt over innholdet i `Tabs`.


## Tilgjengelighet
* `Tabs` støtter tastaturnavigasjon med piltaster
* Hver tab må ha en unik tittel
* Ved bruk av ikoner, sørg for at de er dekorative (`aria-hidden`) eller har beskrivende titler
* Dersom et tabpanel ikke har fokuserbare elementer, får selve panelet fokus


### Tastaturnavigasjon
* <kbd>Tab</kbd> flytter fokus til neste interaktive element
* <kbd data-icon>→</kbd> flytter til neste tab
* <kbd data-icon>←</kbd> flytter til forrige tab
* <kbd>Home</kbd> flytter til første tab
* <kbd>End</kbd> flytter til siste tab
* <kbd>Enter</kbd> eller <kbd>Space</kbd> aktiverer valgt tab


## CSS Variabler
`Tabs`-komponenten kan tilpasses ved hjelp av CSS-variabler. De viktigste variablene inkluderer:
* Farger for aktiv, hover og inaktiv tilstand
* Størrelser og spacing
* Animasjoner og overganger

<CssVariables css={css} />
